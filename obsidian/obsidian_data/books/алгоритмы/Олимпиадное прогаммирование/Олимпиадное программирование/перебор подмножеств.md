```cpp
#include <iostream>
#include <vector>

using namespace std;
	
int n;  // Размер множества
vector<int> subset;  // Текущее подмножество

void search(int k) {
    if (k == n + 1) {  // Когда перебрали все элементы
        // Вывод текущего подмножества
        cout << "{ ";
        for (int x : subset) {
            cout << x << " ";
        }
        cout << "}\n";
    } else {
        // Включить k в подмножество
        subset.push_back(k);
        search(k + 1);

        // Не включать k в подмножество
        subset.pop_back();
        search(k + 1);
    }
}

int main() {
    cout << "Введите n: ";
    cin >> n;  // Читаем размер множества {1, 2, ..., n}

    cout << "Все подмножества множества {1, 2, ..., " << n << "}:\n";
    search(1);  // Запускаем поиск с первого элемента
    return 0;
}
```


```cpp
search(1)
 ├── Взять 1 → search(2)
 │   ├── Взять 2 → search(3)
 │   │   ├── Взять 3 → {1, 2, 3}
 │   │   ├── Не брать 3 → {1, 2}
 │   ├── Не брать 2 → search(3)
 │       ├── Взять 3 → {1, 3}
 │       ├── Не брать 3 → {1}
 ├── Не брать 1 → search(2)
     ├── Взять 2 → search(3)
     │   ├── Взять 3 → {2, 3}
     │   ├── Не брать 3 → {2}
     ├── Не брать 2 → search(3)
         ├── Взять 3 → {3}
         ├── Не брать 3 → {}
```

```cpp
{ 1 2 3 }   // Взяли все элементы
{ 1 2 }     // Исключили 3
{ 1 3 }     // Исключили 2
{ 1 }       // Исключили 2 и 3
{ 2 3 }     // Исключили 1
{ 2 }       // Оставили только 2
{ 3 }       // Оставили только 3
{ }         // Пустое множество
```
