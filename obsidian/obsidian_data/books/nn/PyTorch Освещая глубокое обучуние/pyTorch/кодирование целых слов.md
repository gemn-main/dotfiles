```python
def clean_words(input_str):
    punctuation = '(.),:;"!?""_-'
    word_list = input_str.lower().replace('\n', ' ').split()
    word_list = [word.strip(punctuation)for word in word_list]
    return word_list

word_in_line = clean_words(line)
word_list = sorted(set(clean_words(text)))
word2index_dict = {word: i for(i,word) in enumerate(word_list)}

word_t = torch.zeros(len(word_in_line), len(word2index_dict))
for i, word in enumerate(word_in_line):
    word_index = word2index_dict[word]
    word_t[i][word_index] = 1
    print('{:2} {:4} {}'.format(i, word_index,word))

print(word_t.shape)
...
 0 7155 story                                                                   
 1 2425 earlier                                                                              
 2  456 and                                                                                  
 3 1042 brings                                                                               
 4  136 about                                                                                
 5 7455 the                                                                                  
 6 2009 denouement                                                                           
 7 8256 with                                                                                 
 8 1481 complete                                                                             
 9 5955 propriety                                                                    
torch.Size([10, 8738]) 
```

