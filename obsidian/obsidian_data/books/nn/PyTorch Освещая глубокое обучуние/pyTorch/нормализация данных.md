если тензор в формате int8, то можно просто разделить на 255(максимальное беззнаковое 8-битное число)
```python
batch = batch.float()
batch /= 255.0
```


```python
n_channels = batch.shape[1]
for c in range(n_channels):
	mean = torch.mean(batch[:, c])
	std = torch.std(batch[:, c])
	batch[:, c] = (batch[:, c] - mean) /std
```
Этот код выполняет **поканальную нормализацию** (normalization) батча изображений, приводя каждый канал (например, R, G, B) к нулевому среднему (`mean = 0`) и единичному стандартному отклонению (`std = 1`).  

---
### **1. `n_channels = batch.shape[1]`**
- `batch` — это 4D-тензор в формате `(N, C, H, W)`, где:
  - `N` — количество изображений в батче,
  - `C` — количество каналов (например, 3 для RGB),
  - `H` — высота изображения,
  - `W` — ширина изображения.
- `batch.shape[1]` возвращает число каналов `C` (например, 3 для RGB).
- **Пример**: Если `batch.shape = (16, 3, 256, 256)`, то `n_channels = 3`.

---

### **2. `for c in range(n_channels):`**
- Цикл перебирает каждый канал отдельно (`c = 0, 1, 2` для RGB).
- Для каждого канала вычисляется среднее (`mean`) и стандартное отклонение (`std`), а затем применяется нормализация.

---

### **3. `mean = torch.mean(batch[:, c])`**
- `batch[:, c]` — выбирает **все изображения в батче (`N`), но только канал `c`** (например, только красный канал для `c=0`).
- `torch.mean()` вычисляет среднее значение всех пикселей в этом канале.
- **Пример**: Если `batch[:, 0]` содержит все красные каналы, то `mean` — это средняя яркость красного по всему батчу.

---

### **4. `std = torch.std(batch[:, c])`**
- `torch.std()` вычисляет **стандартное отклонение** всех пикселей в канале `c`.
- Стандартное отклонение показывает, насколько значения пикселей отклоняются от среднего.
- **Пример**: Если `std` маленький, значит, пиксели в этом канале близки к среднему. Если `std` большой — значения сильно разбросаны.

---

### **5. `batch[:, c] = (batch[:, c] - mean) / std`**
Это **Z-score нормализация** (стандартизация) для канала `c`:
1. `batch[:, c] - mean` — вычитает среднее, центрируя данные вокруг **0**.
2. Деление на `std` масштабирует данные так, что стандартное отклонение становится **1**.
3. Результат записывается обратно в `batch[:, c]`.

